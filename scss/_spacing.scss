/* SPACING */

@use "vars";
@use "sass:map";
@use "sass:list";
@use "sass:math";

@function get-size($x) {
  @if $x > 0 {
    @return #{math.pow(2, $x - 3)}rem;
  } @else {
    @return 0;
  }
}

@mixin expand-sizes($ext) {
  @each $type, $prefix in ("p": "padding", "m": "margin") {
    @each $letter, $side in map-merge($sides, $spans) {
      @for $x from 0 through 7 {
        $size: get-size($x);
        .#{$type}#{$letter}#{$x}#{$ext} {
          @if $side == "horiz" {
            #{$prefix}-left: $size;
            #{$prefix}-right: $size;
          } @else if $side == "vert" {
            #{$prefix}-top: $size;
            #{$prefix}-bottom: $size;
          } @else {
            #{$prefix}#{$side}: $size;
          }
        }
      }
    }
  }
  @for $x from 0 through 7 {
    $size: get-size($x);
    .ga#{$x}#{$ext} {
      row-gap: $size;
      column-gap: $size;
    }
    .gv#{$x}#{$ext} { row-gap: $size; }
    .gh#{$x}#{$ext} { column-gap: $size; }
  }
}

@include expand-sizes("");

@media #{$media-breakpoint-medium} {
  @include expand-sizes("-m");
}

@media #{$media-breakpoint-large} {
  @include expand-sizes("-l");
}
